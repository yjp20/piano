{"version":3,"sources":["js/data/instruments.js","js/data/keymapping.js","js/models/Button.js","js/models/NotesListing.js","js/models/Pedals.js","js/models/PianoKeyboard.js","js/models/PianoKeys.js","js/models/SoftPedal.js","js/models/SostenutoPedal.js","js/models/SustainPedal.js","js/wrappers/WebAudioClient.Client.js","js/wrappers/WebAudioClient.Controller.js"],"names":[],"mappings":"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","file":"compiled.js","sourcesContent":["var instruments = {\n  piano: {\n    'A0' : 'A0.mp3',\n    'C1' : 'C1.mp3',\n    'D#1' : 'Ds1.mp3',\n    'F#1' : 'Fs1.mp3',\n    'A1' : 'A1.mp3',\n    'C2' : 'C2.mp3',\n    'D#2' : 'Ds2.mp3',\n    'F#2' : 'Fs2.mp3',\n    'A2' : 'A2.mp3',\n    'C3' : 'C3.mp3',\n    'D#3' : 'Ds3.mp3',\n    'F#3' : 'Fs3.mp3',\n    'A3' : 'A3.mp3',\n    'C4' : 'C4.mp3',\n    'D#4' : 'Ds4.mp3',\n    'F#4' : 'Fs4.mp3',\n    'A4' : 'A4.mp3',\n    'C5' : 'C5.mp3',\n    'D#5' : 'Ds5.mp3',\n    'F#5' : 'Fs5.mp3',\n    'A5' : 'A5.mp3',\n    'C6' : 'C6.mp3',\n    'C6' : 'C6.mp3',\n    'D#6' : 'Ds6.mp3',\n    'F#6' : 'Fs6.mp3',\n    'A6' : 'A6.mp3',\n    'C7' : 'C7.mp3',\n    'D#7' : 'Ds7.mp3',\n    'F#7' : 'Fs7.mp3',\n    'A7' : 'A7.mp3',\n    'C8' : 'C8.mp3'\n  },\n  guitar: {\n    'A3': 'A3.mp3',\n    'B2': 'B2.mp3',\n    'B3': 'B3.mp3',\n    'B4': 'B4.mp3',\n    'C#3': 'Cs3.mp3',\n    'C#4': 'Cs4.mp3',\n    'D#4': 'Ds4.mp3',\n    'D3': 'D3.mp3',\n    'D5': 'D5.mp3',\n    'E2': 'E2.mp3',\n    'E4': 'E4.mp3',\n    'F2': 'F2.mp3',\n    'C6': 'C6.mp3',\n  },\n  violin: {\n    'A6': 'A6.mp3',\n    'B3': 'B3.mp3',\n    'B5': 'B5.mp3',\n    'C4': 'C4.mp3',\n    'C5': 'C5.mp3',\n    'C6': 'C6.mp3',\n    'D4': 'D4.mp3',\n    'D6': 'D6.mp3',\n    'D7': 'D7.mp3',\n    'E4': 'E4.mp3',\n    'E5': 'E5.mp3',\n    'E6': 'E6.mp3',\n    'F4': 'F4.mp3',\n    'F5': 'F5.mp3',\n    'F7': 'F7.mp3',\n    'G3': 'G3.mp3',\n    'G4': 'G4.mp3',\n    'G6': 'G6.mp3',\n    'G7': 'G7.mp3'\n  }\n}\n","var keymapping = {\n  basic : {\n    112: 'C2',\n    113: 'C#2',\n    114: 'D2',\n    115: 'D#2',\n    116: 'E2',\n    117: 'F2',\n    118: 'F#2',\n    119: 'G2',\n    120: 'G#2',\n    121: 'A2',\n    122: 'A#2',\n    123: 'B2',  //octave 2 is keys F1 => F12\n    49: 'C3',\n    50: 'C#3',\n    51: 'D3',\n    52: 'D#3',\n    53: 'E3',\n    54: 'F3',\n    55: 'F#3',\n    56: 'G3',\n    57: 'G#3',\n    48: 'A3',\n    189: 'A#3',\n    173: 'A#3',\n    187: 'B3', // octave 3 is keys 1 => 12\n    61: 'B3',\n    81: 'C4',\n    87: 'C#4',\n    69: 'D4',\n    82: 'D#4',\n    84: 'E4',\n    89: 'F4',\n    85: 'F#4',\n    73: 'G4',\n    79: 'G#4',\n    80: 'A4',\n    219: 'A#4',\n    221: 'B4', // octave 4 is keys Q => ]\n    65: 'C5',\n    83: 'C#5',\n    68: 'D5',\n    70: 'D#5',\n    71: 'E5',\n    72: 'F5',\n    74: 'F#5',\n    75: 'G5',\n    76: 'G#5',\n    186: 'A5',\n    59: 'A5',\n    222: 'A#5',\n    13: 'B5', // octave 5 is keys A => ENT\n    16: 'C6',\n    90: 'C#6',\n    88: 'D6',\n    67: 'D#6',\n    86: 'E6',\n    66: 'F6',\n    78: 'F#6',\n    77: 'G6',\n    188: 'G#6',\n    190: 'A6',\n    191: 'A#6',\n    38: 'B6',// octave 6 is keys LSHIFT => UPARROW\n             // octave 7 is omitted due to unprettyness\n    37: 'pedal_1',\n    40: 'pedal_2',\n    39: 'pedal_3'\n  },\n\n  compact : {\n    112: 'C2',\n    113: 'C#2',\n    114: 'D2',\n    115: 'D#2',\n    116: 'E2',\n    117: 'F2',\n    118: 'F#2',\n    119: 'G2',\n    120: 'G#2',\n    121: 'A2',\n    122: 'A#2',\n    123: 'B2',  //octave 2 is keys F1 => F12\n    192: 'C3',\n    49: 'C#3',\n    50: 'D3',\n    51: 'D#3',\n    52: 'E3',\n    53: 'F3',\n    54: 'F#3',\n    55: 'G3',\n    56: 'G#3',\n    57: 'A3',\n    48: 'A#3',\n    189: 'B3', // octave 3 is keys ` => -\n    187: 'C4',\n    8: 'C#4',\n    9: 'D4',\n    81: 'D#4',\n    87: 'E4',\n    69: 'F4',\n    82: 'F#4',\n    84: 'G4',\n    89: 'G#4',\n    85: 'A4',\n    73: 'A#4',\n    79: 'B4', // octave 4 is keys =,bkspace => O\n    80: 'C5',\n    219: 'C#5',\n    221: 'D5',\n    220: 'D#5',\n    20: 'E5',\n    65: 'F5',\n    83: 'F#5',\n    68: 'G5',\n    70: 'G#5',\n    71: 'A5',\n    72: 'A#5',\n    74: 'B5', // octave 5 is keys P => J\n    75: 'C6',\n    76: 'C#6',\n    186: 'D6',\n    222: 'D#6',\n    13: 'E6',\n    16: 'F6',\n    90: 'F#6',\n    88: 'G6',\n    67: 'G#6',\n    86: 'A6',\n    66: 'A#6',\n    78: 'B6', // octave 6 is keys K => N\n    77: 'C7',\n    188: 'C#7',\n    190: 'D7',\n    191: 'D#7',\n    17: 'E7',\n    91: 'F7',\n    18: 'F#7',\n    32: 'G7',\n    93: 'G#7',\n    38: 'A7',\n  // L ARROW, D ARROW, R ARROW ARE PEDALS\n    37: 'pedal_1',\n    40: 'pedal_2',\n    39: 'pedal_3'\n  },\n\n  functional : {\n    9: 'C3',\n    49: 'C#3',\n    81: 'D3',\n    50: 'D#3',\n    87: 'E3',\n    69: 'F3',\n    52: 'F#3',\n    82: 'G3',\n    53: 'G#3',\n    84: 'A3',\n    54: 'A#3',\n    89: 'B3', // octave 3 is keys 1 => 12\n    85: 'C4',\n    56: 'C#4',\n    73: 'D4',\n    57: 'D#4',\n    79: 'E4',\n    80: 'F4',\n    189: 'F#4',\n    173: 'F#4',\n    219: 'G4',\n    61: 'G#4',\n    187: 'G#4',\n    221: 'A4',\n    8: 'A#4',\n    220: 'B4',// octave 4 is keys Q => ]\n    16: 'C5',\n    65: 'C#5',\n    90: 'D5',\n    83: 'D#5',\n    88: 'E5',\n    67: 'F5',\n    70: 'F#5',\n    86: 'G5',\n    71: 'G#5',\n    66: 'A5',\n    72: 'A#5',\n    78: 'B5', //octave 5 is keys Shift to N\n    77: 'C6', //octave 6 is keys M to rest\n    75: 'C#6',\n    188: 'D6',\n    76: 'D#6',\n    190: 'E6',\n    191: 'F6',\n    222: 'F#6',\n    37: 'pedal_1',\n    40: 'pedal_2',\n    39: 'pedal_3'\n  }\n}\n\nfunction keyCodeToText(keyCode) {\n  let value = specialCases[keyCode];\n  if (value == undefined)\n    value = String.fromCharCode(keyCode);\n  return value;\n}\n\nvar specialCases = {\n  37: '&larr;',\n  39: '&rarr;',\n  40: '&darr;',\n  219: '&#91',\n  221: '&#93',\n  189: '&#45',\n  187: '&#61',\n  220: '&#92',\n  192: '&#126',\n  112: 'F1',\n  113: 'F2',\n  114: 'F3',\n  115: 'F4',\n  116: 'F5',\n  117: 'F6',\n  118: 'F7',\n  119: 'F8',\n  120: 'F9',\n  121: 'F10',\n  122: 'F11',\n  123: 'F12',\n  8: '&#9003;',\n  9: '&#8633;',\n  20: '&#8682;',\n  186: '&#59',\n  222: '&#8216',\n  13: '&#8626',\n  16: '&#8679',\n  188: '&#44',\n  190: '&#46',\n  191: '&#47',\n  17: '&#8963;',\n  91: '&#9638',\n  18: '&#8997;',\n  32: '&#9251;',\n  93: 'SEL',\n  38: '&uarr;'\n}\n","class Button {\n  constructor(attributes, parentNode) {\n    this.parentNode = parentNode;\n    this.DOMelement = this._createDOMelement();\n    this.setDOMAttributes(attributes);\n    this._modifyDOMElement();\n\n    // multiple inputs, mouse, keyboard\n    this.keyboardIsDown = false;\n    this.mouseIsDown = false;\n  }\n  get isStateOn() {\n    return this.keyboardDown || this.mouseDown;\n  }\n  _createDOMelement() {\n    return document.createElement('div');\n  }\n  _modifyDOMElement() {\n    this._addMouseListener();\n    this._appendDOMElement();\n  }\n  setDOMAttributes(attributes) {\n    for (let attribute in attributes) {\n      this.DOMelement.setAttribute(attribute, attributes[attribute]);\n    }\n  }\n  _appendDOMElement() {\n    this.parentNode.appendChild(this.DOMelement);\n  }\n  _addMouseListener() {\n    this.DOMelement.addEventListener('mousedown', function () {\n      this._mouseDown();\n    }.bind(this))\n    this.DOMelement.addEventListener('mouseup', function () {\n      this._mouseUp();\n    }.bind(this))\n    this.DOMelement.addEventListener('mouseenter', function (event) {\n      const CLICKED = 1;\n      if (event.buttons == CLICKED) {\n        this._mouseDown();\n      }\n    }.bind(this))\n    this.DOMelement.addEventListener('mouseleave', function (event) {\n      const CLICKED = 1;\n      if (event.buttons == CLICKED) {\n        this._mouseUp();\n      }\n    }.bind(this))\n  }\n  _mouseDown() {\n    this.mouseIsDown = true;\n    this._parentActivate();\n  }\n  _mouseUp() {\n    this.mouseIsDown = false;\n    this._parentDeactivate();\n  }\n  keyboardDown() {\n    if (!this.keyboardIsDown) {\n      this.keyboardIsDown = true;\n      this._parentActivate();\n    }\n  }\n  keyboardUp() {\n    this.keyboardIsDown = false;\n    this._parentDeactivate();\n  }\n  _parentActivate() {\n    this.DOMelement.setAttribute('pressed', '');\n    this.activate();\n  }\n  _parentDeactivate() {\n    if (!(this.keyboardIsDown || this.mouseIsDown)) {\n      this.DOMelement.removeAttribute('pressed');\n      this.deactivate()\n    }\n  }\n}\n","class NotesListing {\n  static generateNotesListing() {\n    this._createNotesListing();\n    this._fillNotesListing();\n    return this.notes;\n  };\n\n  static _createNotesListing() {\n    this.notes = [];\n  };\n\n  static _fillNotesListing() {\n    const FRONT_SCALE = ['C','C#','D','D#','E', 'F','F#', 'G','G#', 'A','A#', 'B'];\n    const OCTAVES = ['2','3','4','5','6','7'];\n    for(let i = 0; i<OCTAVES.length; i++){\n      for(let v = 0; v<FRONT_SCALE.length; v++){\n        this.notes.push(FRONT_SCALE[v].concat(OCTAVES[i]))\n      }\n    }\n  };\n}\n","class Pedals {\n  constructor(pianoKeys) {\n    this._setType();\n    this.parentNode = this._getParentNode();\n    this.pianoKeys = pianoKeys;\n    this.jsButton = this._createjsButton();\n  }\n  _getParentNode() {\n    return document.getElementById('pedal-container');\n  }\n  _createjsButton() {\n    let tempjsButton = new Button({\n      'class': 'pedals',\n      'id': this.type\n    }, this.parentNode)\n    tempjsButton.activate = function () {\n      this.activate();\n    }.bind(this);\n    tempjsButton.deactivate = function () {\n      this.deactivate();\n    }.bind(this);\n    return tempjsButton;\n  }\n}\n","class PianoKeyboard {\n  constructor(DOMnode) {\n    this.DOMnode = DOMnode;\n    this.notesListing = NotesListing.generateNotesListing();\n    this.pianoKeys = {};\n    this.currentKeymapping;\n    this._generatePianoKeys(this._createPedals.bind(this));\n    this._createPedals();\n    this._addKeyListener();\n    this.setKeyBindings(keymapping['functional']);\n  };\n  _generatePianoKeys(callback) {\n    for(let i = 0; i<this.notesListing.length; i++)\n      this.pianoKeys[this.notesListing[i]] = new PianoKey(this.DOMnode, this.notesListing[i]);\n  };\n  _createPedals() {\n    this.UnaCordePedal = new UnaCordePedal(this.pianoKeys);\n    this.SostenutoPedal = new SostenutoPedal(this.pianoKeys);\n    this.SustainPedal = new SustainPedal(this.pianoKeys);\n  }\n  _addKeyListener() {\n    document.addEventListener('keydown', function (e) {\n      let key = this.currentKeymapping[e.keyCode];\n      if (key != undefined && key[0] != 'p') /* filters pedals */\n        this.pianoKeys[key].jsButton.keyboardDown();\n    }.bind(this));\n    document.addEventListener('keyup', function (e) {\n      let key = this.currentKeymapping[e.keyCode];\n      if (key != undefined && key[0] != 'p') /* filters pedals */\n        this.pianoKeys[key].jsButton.keyboardUp();\n    }.bind(this));\n  }\n  setKeyBindings(assignment) {\n    this.currentKeymapping = assignment;\n\n    for (let key in this.pianoKeys) {\n      this.pianoKeys[key].setText('');\n    }\n    for (let code in assignment) {\n      let key = assignment[code];\n      console.log('key', key);\n      console.log('code', code);\n      let value = keyCodeToText(code);\n      console.log('value', value);\n      if (key[0] != 'p') /*this filters pedals*/\n        this.pianoKeys[key].setText(value);\n    }\n  }\n}\n","class PianoKey {\n  constructor(grandfatherNode, note) {\n    this.note = note;\n    this.typeOfKey = this._setTypeByNote();\n    this.grandfatherNode = grandfatherNode;\n    this.parentNode = this._getParentNode();\n    this.jsButton = this._createjsButton();\n    this._setPropertyIfBlackKeyNeedsGap();\n    // damper mimics the structure of a\n    // real piano. TRUE = down/silence, FALSE = up/allowsound\n    this.damper = true;\n    this.damperLockSustain = false;\n    this.damperLockSostenuto = false;\n    this.softUnaCorde = false;\n  }\n\n\n  _setTypeByNote() {\n    return this._isBlackKey() ? 'black-key' : 'white-key';\n  }\n  _isBlackKey() {\n    return this.note.indexOf('#') != -1\n  }\n  _getParentNode() {\n    return document.getElementById(this.typeOfKey + 's');\n  }\n\n\n  _createjsButton() {\n    let tempjsButton = new Button({\n      'class': this.typeOfKey,\n      'id': this.note\n    }, this.parentNode)\n    tempjsButton.activate = this.play.bind(this);\n    tempjsButton.deactivate = this.stopWhenConditions.bind(this);\n\n    return tempjsButton;\n  }\n  _setPropertyIfBlackKeyNeedsGap() {\n    if (this.note.indexOf('D') != -1 || this.note.indexOf('A') != -1)\n      this.jsButton.DOMelement.setAttribute('gap', '');\n  }\n\n  setText(string) {\n    this.jsButton.DOMelement.innerHTML = string;\n  }\n\n  play() {\n    if (!this.damper) {\n      this.damper = false;\n      this.update();\n    }\n  }\n  stopWhenConditions() {\n    if (!this.damperLockSustain && !this.damperLockSostenuto && !this.jsButton.isStateOn) {\n      this.damper = true;\n      this.update();\n    }\n  }\n  update() {\n    if (this.damper) {\n      // TODO stop sound in tone js\n    } else {\n      // TODO play sound in tone js\n    }\n  }\n  isPlaying() {\n    return !this.damper;\n  }\n}\n","class UnaCordePedal extends Pedals {\n  _setType() {\n    this.type = 'unacorde';\n  }\n  activate() {\n    for (let pianoKey in this.pianoKeys) {\n      if (this.pianoKeys[pianoKey].isPlaying()) {\n        this.pianoKeys[pianoKey].softUnaCorde = true;\n      }\n    }\n  }\n  deactivate() {\n    for (let pianoKey in this.pianoKeys) {\n      this.pianoKeys[pianoKey].softUnaCorde = false;\n      this.pianoKeys[pianoKey].stopWhenConditions();\n    }\n  }\n}\n","class SostenutoPedal extends Pedals {\n  _setType() {\n    this.type = 'sostenuto';\n  }\n  activate() {\n    for (let pianoKey in this.pianoKeys) {\n      if (this.pianoKeys[pianoKey].isPlaying()) {\n        this.pianoKeys[pianoKey].damperLockSostenuto = true;\n      }\n    }\n  }\n  deactivate() {\n    for (let pianoKey in this.pianoKeys) {\n      this.pianoKeys[pianoKey].damperLockSostenuto = false;\n      this.pianoKeys[pianoKey].stopWhenConditions();\n    }\n  }\n}\n","class SustainPedal extends Pedals {\n  _setType() {\n    this.type = 'sustain';\n  }\n  activate() {\n    for (let pianoKey in this.pianoKeys) {\n      if (this.pianoKeys[pianoKey].isPlaying()) {\n        this.pianoKeys[pianoKey].damperLockSustain = true;\n      }\n    }\n  }\n  deactivate() {\n    for (let pianoKey in this.pianoKeys) {\n      this.pianoKeys[pianoKey].damperLockSustain = false;\n      this.pianoKeys[pianoKey].stopWhenConditions();\n    }\n  }\n}\n","//banner\n(function() {\n  console.log('%cยง WebAudioWrapper v0.1 ยง', 'color: #fff; background-color: black; font-size: 20px; letter-spacing: 3px; text-shadow: 1px 1px gray')\n})();\n\nclass WebAudioClient extends EventTarget {\n  constructor(playbackOptions) {\n    super();\n    this.events = {};\n    \n    if(this.constructor == WebAudioClient) throw new Error('Do not instantiate base class. Illegal constructor')\n    \n    //default context options\n    if(!playbackOptions) {\n      playbackOptions = {\n        latencyOption: 'interactive',\n        sampleRate: 44100\n      }\n    }\n\n    this.events.updateDone = new Event('audioUpdateDone');\n    this.events.updateStart = new Event('audioUpdateStart');\n    this.events.audioEnd = new Event('audioEnd');\n\n    //call AudioContext\n    this._buildContext(playbackOptions)\n\n    //node\n    this.convNode = this.context.createConvolver();\n    this.gainNode = this.context.createGain();\n\n    //\n    this.convNode.normalize = true;\n  }\n\n  _buildContext(playbackOptions) {\n    this.context = new AudioContext({\n      latencyHint: playbackOptions.latencyOption,\n      sampleRate: playbackOptions.sampleRate\n    })\n  }\n\n  //set controls for the context\n  _setMediaControls() {\n    this._suspend = function() {\n      this.context.suspend();\n    }\n  \n    this._resume = function() {\n      this.context.resume();\n    }\n  }\n\n  set onaudioloadend(callback) {\n    this.addEventListener('audioUpdateDone', callback)\n  }\n\n  set onaudioloadstart(callback) {\n    this.addEventListener('audioUpdateStart', callback)\n  }\n\n  set onaudioend(callback) {\n    this.addEventListener('audioEnd', callback)\n  }\n}\n\nWebAudioClient.Controller = Controller;\n\n/** \n * @class \n * @classdesc - creates an audio client that is controlled with a HTMLMediaElement \n * @memberof! <global>\n * @access public\n * @augments WebAudioClient\n * \n * @param {HTMLMediaElement} source - the element that will serve as the audio source\n * @param {Object} [playbackOptions] - Options for playback.\n * @param {String} playbackOptions.latencyOption - sets LatencyHint\n * @param {Number} playbackOptions.sampleRate - sets sampling rate, default 44.1 kHz\n * \n * @example\n * var htmlAudio = new Audio('files/guitar.mp3');\n * var myAudio = new WebAudioClient.fromHTMLElement(htmlAudio)\n * myAudio.play();\n **/\n\n //using video/audio source\nWebAudioClient.fromHTMLMediaElement = class extends WebAudioClient {\n  constructor(sources, playbackOptions) {\n    super(playbackOptions)\n    this._setSource(sources)\n    this._setMediaControls();\n    this._addEventPassover();\n   }\n\n  _setSource(audioSource) {\n    if(!audioSource instanceof HTMLMediaElement) throw new Error('not correct')\n    \n    this.controller = audioSource; //allow to use html play/pause\n    this.source.add\n    this.source.connect(this.context.destination);\n  }\n\n  _setEventPassover() {\n    this._audioSource.onended = function() {\n      this.dispatchEvent(this.events.audioEnd)\n    }\n  }\n}\n \nWebAudioClient.fromBlob = class extends WebAudioClient {\n  constructor(source, playbackOptions) {\n    super(playbackOptions)\n    this._buildAudioBuffer = this._buildAudioBuffer\n    this._setSource(source)\n    this._setBufferController();\n    this._setMediaControls();\n  }\n\n  _setBufferController() {\n    this.controller = new WebAudioClient.Controller(this);\n  }\n\n  _buildAudioBuffer(source) {\n    return new Promise(function(resolve, reject) {\n      this.dispatchEvent(this.events.updateStart);\n      this._readArrayBuffer(source)\n      .then(function(results) {\n\n        this.context.decodeAudioData(results)\n        .then(function(audioBuffer) {\n          resolve(audioBuffer)\n        })\n        .catch(function(err){});\n      }.bind(this))\n    }.bind(this))\n  }\n\n  _setSource(audioSource) {\n    if(audioSource instanceof ArrayBuffer) { //if arraybuffer directly set\n      this.audioBuffer = audioSource;\n      return;\n    }\n    if(!audioSource instanceof Blob) console.log('not proper cons -- use realloc.')\n    console.log(audioSource)\n    this._buildAudioBuffer(audioSource)\n    .then(function(audioBuffer) {\n      this.bufferHandle = audioBuffer;\n\n      this.dispatchEvent(this.events.updateDone);\n    }.bind(this))\n  }\n\n\n\n  _readArrayBuffer(file) {\n    return new Promise(function(resolve, reject) {\n      if(!file) resolve();\n      const reader = new FileReader();\n      \n      reader.onload = function(res) {\n        resolve(res.target.result)\n      }\n      console.log(file)\n      reader.readAsArrayBuffer(file)\n    })\n  }\n}\n\nWebAudioClient.fromFileURL = class extends WebAudioClient.fromBlob {\n  constructor(urlString, playbackOptions) {\n    super(null, playbackOptions);\n    this.controller = new WebAudioClient.Controller(this)\n\n    this._callXHRRequest(urlString, function(res){\n      this._setSource(res)\n    }.bind(this));\n  }\n\n  _callXHRRequest(urlString, callback) {\n    const REQ = new XMLHttpRequest();\n\n    REQ.open('GET', urlString);\n    REQ.responseType = 'blob';\n\n\n    REQ.onloadend = function(res) {\n      const RESPONSE_FILE = res.target.response || REQ.response;\n      callback(RESPONSE_FILE);\n    }\n    \n\n    REQ.send();\n\n    //if(!nsync) return REQ.reponse\n  }\n}\n\nWebAudioClient.Sampler = class extends WebAudioClient.fromFileURL {\n  constructor(urlStrings, playbackOptions) {\n    super(null, playbackOptions)\n    this._bufferSources = {};\n    this.activeBufferSources = {};\n    let promises = []\n\n    for(let noteName in urlStrings) {\n      promises.push(this._buildAudioArray(urlStrings[noteName], noteName))\n    }\n\n    Promise.all(promises)\n    .then(function(){\n      this._initConstants();\n      this._initController()\n      this.dispatchEvent(this.events.updateDone);\n    }.bind(this))\n  }\n\n  _initConstants() {\n    this.FREQUENCY_DIFF_PER_SEMITONE = 1.05946309436;\n    this.LETTER_NUM = {\n      'C': 1,\n      'C#': 2,\n      'D': 3,\n      'D#': 4,\n      'E': 5,\n      'F': 6,\n      'G': 7,\n      'G#': 8,\n      'A': 9,\n      'A#': 10,\n      'B': 11,\n\n    }\n  }\n\n  _initController() {\n    this.media = new WebAudioClient.Controller(this);\n    let selfRef = this;\n\n    this.controller = {\n      play(note) {\n        let difference = 1000000;\n        let baseNote;\n        let thisNote = this.findToSemiInterval(note);\n\n        for(let noteName in this.buffers) {\n          let signedDelta = (thisNote - this.findToSemiInterval(noteName))\n          let absDelta = Math.abs(signedDelta);\n          if (absDelta < Math.abs(difference)) {difference = signedDelta; baseNote = noteName; console.log('ok');}\n        }\n\n        this.bufferHandle = this.buffers[baseNote];\n        \n        if(difference < 0) {\n          this.media.settingPlaybackRate = 1/(this.FREQUENCY_DIFF_PER_SEMITONE ** Math.abs(difference))\n        } else if(difference > 0) {\n          this.media.settingPlaybackRate = this.FREQUENCY_DIFF_PER_SEMITONE ** Math.abs(difference)\n        } \n        console.log(this.media.settingPlaybackRate, difference)\n        this.media.play();\n        selfRef.activeBufferSources[note] = this.media._BUFFER_SOURCE;\n      },\n\n      pause(note) {\n        try {\n          selfRef.activeBufferSources[note].gainNode.gain.exponentialRampToValueAtTime(0.1, selfRef.context.currentTime + 2);\n        } catch(e) {\n          console.log('note was not activated, or is done.', e)\n        }\n      },\n      playing: this.media.playing\n    }\n    this.controller.play = this.controller.play.bind(selfRef);\n  }\n\n  findToSemiInterval(name) {\n    let freqSteps = 0;\n    let noteName = name;\n\n    if(noteName.length == 3) {\n      freqSteps += this.LETTER_NUM[noteName[0] + noteName[1]];\n      freqSteps += (parseInt(noteName[2]) - 1) * 11 \n    } else {\n      freqSteps += this.LETTER_NUM[noteName[0]];\n      freqSteps += (parseInt(noteName[1]) - 1) * 11 \n    }\n\n    return freqSteps;\n  }\n\n  _buildAudioArray(data, name) {\n    if(!this.buffers) this.buffers = {};\n    return new Promise(function(resolve, reject){\n      this._callXHRRequest(data, function(res){\n        this._buildAudioBuffer(res)\n        .then(function(buf){\n          this.buffers[name] = buf\n          resolve();  \n        }.bind(this))\n      }.bind(this))\n    }.bind(this))\n  }\n} \n \n","class Controller{\n  constructor(reference) {\n    this.ref = reference;\n    this.loop = false;\n    this.settingPlaybackRate = 1.0;\n    this.playing = false,\n    this._restartTime = 0\n    this.load = this.load;\n    this.play = this.play;\n    this.goto = this.goto;\n    this.reset = this.reset;\n  }\n  initBufferSettings() {\n    this._BUFFER_SOURCE.onended = function() {\n      if(!this._endedDueToPause) {\n        this._restartTime = 0;\n        if(this.loop) this.play();\n        window.dispatchEvent(this.ref.events.audioEnd);\n      }\n    }.bind(this);\n    this._BUFFER_SOURCE.playbackRate.value = this.settingPlaybackRate;\n  }\n  //load the new buffer source using handle to audio buffer\n  load() {\n    this._BUFFER_SOURCE = this.ref.context.createBufferSource();\n    this._BUFFER_SOURCE.buffer = this.ref.bufferHandle;\n    this._BUFFER_SOURCE.gainNode = this.ref.context.createGain();\n    this._BUFFER_SOURCE.connect(this._BUFFER_SOURCE.gainNode);\n    this._BUFFER_SOURCE.gainNode.gain.value = 1;\n    this._BUFFER_SOURCE.gainNode.connect(this.ref.context.destination);\n\n    if(!this._BUFFER_SOURCE.onended) this.initBufferSettings();\n    //this._BUFFER_SOURCE.start();\n  }\n  pause() {\n    this.playing = false;\n    this._restartTime += (new Date() - this._startTime) / 1000\n\n    this._endedDueToPause = true;\n    this._BUFFER_SOURCE.stop();\n  }\n  play() {\n    this.playing = true;\n    this._endedDueToPause = false;\n    this.load();\n    this._startTime = new Date(); //use for measuring time on pause\n\n    this._BUFFER_SOURCE.start(null, this._restartTime)\n  }\n  goto(seconds) {\n    this._restartTime = seconds;\n    if(!this.playing) this.play();\n  }\n  reset() {\n    if(this.playing) this._BUFFER_SOURCE.stop()\n    this._restartTime = 0;\n  }\n  set playbackRate(prop) {\n    this._BUFFER_SOURCE.playbackRate.value = prop;\n    this.settingPlaybackRate = prop\n  }\n}\n\n"]}